#include "variable.h"

//全局标志位***************************************************************************************************
Delay delay[5];

long Invalid_Value = -10000; 


//传感器量程****************************************************************************************************
float LEVEL_Low = 0; //液位   mm
float LEVEL_High = 2000;
float STREES_Low = 0; //压力  
float STREES_High = 400; //压力(kpa)
float WPH_Low = 0; //PH
float WPH_High = 14; //PH
float WCOND_Low = 0.0; //电导率
float WCOND_High = 20000.0; //电导率(m)
float TEMP_Low = -20; //温度
float TEMP_High = 100; //温度
int LEVEL = 0;//0 感应到液体  1没有感应
float WEIGHT_Low = 0; //重量 kg
float WEIGHT_High = 100;

//******************其他变量********************
uint16_t RevComplete = 0;  //接收完成标志位
uint8_t Sensor_Cfg_Mode = 0;//串口接收传感器配置文件标志
uint8_t Delay_Cfg_Mode = 0;//继电器配置文件标志
 
//传感器配置
Data sensor_data[6];//上传数据
Sensor_data sensor_array[6];
uint8_t RS485_Rx_buf[50];
uint8_t Android_Rx_buf[1000];
uint8_t Rx_buf[1000];//掉电保持最新数据

uint16_t Android_Rx_Count = 0;
uint16_t RS485_Rx_Count = 0;
uint16_t RS485_Rx_Count_Old = -1;

uint8_t Sample_flag = 0;//采集标志
uint8_t UpData_flag = 0;//上传数据标志
uint8_t Control_flag = 0;//控制标志
uint8_t time_Control_flag = 0;//当前时间控制标志
uint8_t sys_time_Control_flag = 0;//当前系统时间控制标志
char alarm_Clock[50] = "0"; 

int contral_time = 0;//控制时间  单位分

int SCM_state = SCM_RUN;//1:run 0:stop   系统状态
uint8_t Save_flag = 0;//备份状态
uint8_t YiYe_pump_flag = 0;//移液泵状态
uint8_t YiYe_pump_control_flag = 0;//移液泵控制状态
uint8_t Reboot_flag = 0;
uint8_t Error_flag = 0;
uint8_t RTC_Config_flag = 0;
/*

台控1012模块采集命令
控制数字量输出
D0
开：01 05 00 10 FF 00 8D FF
关：01 05 00 10 00 00 CC 0F

D1
开：01 05 00 11 FF 00 DC 3F
关：01 05 00 11 00 00 9D CF
*/

uint8_t D0_Open[8] = {0x01,0x05,0x00,0x10,0xFF,0x00,0x8D,0xFF};
uint8_t D0_Close[8] = {0x01,0x05,0x00,0x10,0x00,0x00,0xCC,0x0F};

uint8_t D1_Open[8] = {0x01,0x05,0x00,0x11,0xFF,0x00,0xDC,0x3F};
uint8_t D1_Close[8] = {0x01,0x05,0x00,0x11,0x00,0x00,0x9D,0xCF};

uint8_t D2_Open[8] = {0x01,0x05,0x00,0x12,0xFF,0x00,0x2C,0x3F};
uint8_t D2_Close[8] = {0x01,0x05,0x00,0x12,0x00,0x00,0x6D,0xCF};

uint8_t D3_Open[8] = {0x01,0x05,0x00,0x13,0xFF,0x00,0x7D,0xFF};
uint8_t D3_Close[8] = {0x01,0x05,0x00,0x13,0x00,0x00,0x3C,0x0F};

uint8_t D4_Open[8] = {0x01,0x05,0x00,0x14,0xFF,0x00,0xCC,0x3E};
uint8_t D4_Close[8] = {0x01,0x05,0x00,0x14,0x00,0x00,0x8D,0xCE};

uint8_t D5_Open[8] = {0x01,0x05,0x00,0x15,0xFF,0x00,0x9D,0xFE};
uint8_t D5_Close[8] = {0x01,0x05,0x00,0x15,0x00,0x00,0xDC,0x0E};

uint8_t D6_Open[8] = {0x01,0x05,0x00,0x16,0xFF,0x00,0x6D,0xFE};
uint8_t D6_Close[8] = {0x01,0x05,0x00,0x16,0x00,0x00,0x2C,0x0E};

uint8_t D7_Open[8] = {0x01,0x05,0x00,0x17,0xFF,0x00,0x3C,0x3E};
uint8_t D7_Close[8] = {0x01,0x05,0x00,0x17,0x00,0x00,0x7D,0xCE};
/*

//测试使用
uint8_t D0_Open[8] = {0x01,0x05,0x00,0x10,0xFF,0x00,0x8D,0xFF};
uint8_t D0_Close[8] = {0x01,0x05,0x00,0x10,0x00,0x00,0xCC,0x0F};

uint8_t D1_Open[8] = {0x01,0x05,0x00,0x11,0xFF,0x00,0xDC,0x3F};
uint8_t D1_Close[8] = {0x01,0x05,0x00,0x11,0x00,0x00,0x9D,0xCF};

uint8_t D2_Open[8] = {0x03,0x05,0x00,0x10,0xFF,0x00,0x8C,0x1D};
uint8_t D2_Close[8] = {0x03,0x05,0x00,0x10,0x00,0x00,0xCD,0xED};

uint8_t D3_Open[8] = {0x03,0x05,0x00,0x11,0xFF,0x00,0xDD,0xDD};
uint8_t D3_Close[8] = {0x03,0x05,0x00,0x11,0x00,0x00,0x9C,0x2D};

uint8_t D4_Open[8] = {0x04,0x05,0x00,0x10,0xFF,0x00,0x8D,0xAA};
uint8_t D4_Close[8] = {0x04,0x05,0x00,0x10,0x00,0x00,0xCC,0x5A};

uint8_t D5_Open[8] = {0x04,0x05,0x00,0x11,0xFF,0x00,0xDC,0x6A};
uint8_t D5_Close[8] = {0x04,0x05,0x00,0x11,0x00,0x00,0x9D,0x9A};

uint8_t D6_Open[8] = {0x01,0x05,0x00,0x16,0xFF,0x00,0x6D,0xFE};
uint8_t D6_Close[8] = {0x01,0x05,0x00,0x16,0x00,0x00,0x2C,0x0E};

uint8_t D7_Open[8] = {0x01,0x05,0x00,0x17,0xFF,0x00,0x3C,0x3E};
uint8_t D7_Close[8] = {0x01,0x05,0x00,0x17,0x00,0x00,0x7D,0xCE};
*/
/*
台控1055模块采集命令
控制数字量输出（地址：1）
D0
开：01 05 00 10 FF 00 8D FF
关：01 05 00 10 00 00 CC 0F

D1
开：01 05 00 11 FF 00 DC 3F
关：01 05 00 11 00 00 9D CF

D2
开：01 05 00 12 FF 00 2C 3F
关：01 05 00 12 00 00 6D CF

D3
开：01 05 00 13 FF 00 7D FF
关：01 05 00 13 00 00 3C 0F

D4
开：01 05 00 14 FF 00 CC 3E
关：01 05 00 14 00 00 8D CE

D5
开：01 05 00 15 FF 00 9D FE
关：01 05 00 15 00 00 DC 0E

D6
开：01 05 00 16 FF 00 6D FE
关：01 05 00 16 00 00 2C 0E

D7
开：01 05 00 17 FF 00 3C 3E
关：01 05 00 17 00 00 7D CE
*/






